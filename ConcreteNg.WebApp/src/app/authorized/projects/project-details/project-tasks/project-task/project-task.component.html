<mat-expansion-panel>
    <mat-expansion-panel-header>
        <mat-panel-title style="max-width: 200px;">
            {{task.projectTaskName}}
        </mat-panel-title>
        <mat-panel-description>
            <mat-progress-bar style="width: 100%;" mode="determinate" [value]="progressPercentage"></mat-progress-bar>
        </mat-panel-description>
    </mat-expansion-panel-header>
    <mat-divider></mat-divider>
    <ng-container matExpansionPanelContent>
        <app-project-task-item *ngFor="let taskItem of task.projectTaskItems; let i = index" 
            [projectTaskItem]="task.projectTaskItems[i]"
            [projectTaskId]="task.projectTaskId"
            [project]="project"
        >
        </app-project-task-item>
    </ng-container>
    <div class="fab-container" *ngIf="userRole !== userTypeEnum.Buyer">
        <button mat-mini-fab class="mat-fab-button" color="primary"><mat-icon  matTooltip="Add item" (click)="OpenAddEditItemDialog()">add</mat-icon></button>
        <button mat-mini-fab class="mat-fab-button" color="primary"><mat-icon  matTooltip="Edit task" >settings</mat-icon></button>
        <button mat-mini-fab class="mat-fab-button" color="primary"><mat-icon  matTooltip="Delete task" (click)="deleteProjectTask()">delete</mat-icon></button>
    </div>
</mat-expansion-panel>
